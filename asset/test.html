<!DOCTYPE html>
<html>
<head>
  <title>Gyro Test</title>
</head>
<body style="text-align:center; font-family:sans-serif; margin-top:50px;">
  <h2>Gyro Test</h2>
  <p id="output">Waiting for data...</p>
  <button id="startBtn">Enable Gyro</button>

  <script>
    const output = document.getElementById("output");
    const startBtn = document.getElementById("startBtn");

    function handleOrientation(event) {
      output.textContent = `Alpha: ${event.alpha} | Beta: ${event.beta} | Gamma: ${event.gamma}`;
    }

    function startListening() {
      if (typeof DeviceOrientationEvent.requestPermission === 'function') {
        // iOS Safari
        DeviceOrientationEvent.requestPermission()
          .then(permissionState => {
            if (permissionState === 'granted') {
              window.addEventListener("deviceorientation", handleOrientation);
              startBtn.style.display = "none";
            }
          })
          .catch(console.error);
      } else {
        // Android / other browsers
        window.addEventListener("deviceorientation", handleOrientation);
        startBtn.style.display = "none";
      }
    }

    startBtn.addEventListener("click", startListening);
  </script>
</body>
</html>
